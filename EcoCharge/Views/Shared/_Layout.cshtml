@model Models.Login
<!DOCTYPE html>
<html>
<head>
    <title>@ViewBag.Title</title>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="/Content/images/icons/tomada.ico" />
    <meta name="google-signin-client_id" content="360343055425-vo5c55eae7dflig9tfki77cqsq18am7k.apps.googleusercontent.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
    <link href="~/Content/css/style.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Comfortaa:300,700" rel="stylesheet">
    <link href="~/Content/css/swiper.min.css" rel="stylesheet" />
    <link href="~/Content/css/style_input.css" rel="stylesheet" />

    <script src="~/Scripts/jquery-3.3.1.min.js"></script>
    <script src="~/Scripts/jquery.unobtrusive-ajax.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://apis.google.com/js/api:client.js"></script>
    <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
    <script src="~/Scripts/swiper.min.js"></script>
    <script src="~/Scripts/js.js"></script>

    <script type="text/javascript">
        function onSuccess(googleUser) {
            console.log('Logged in as: ' + googleUser.getBasicProfile().getName());
        }

        function onFailure(error) {
            console.log(error);
        }

        function renderButton() {
            gapi.signin2.render('my-signin2', {
                'scope': 'profile email',
                'width': 240,
                'height': 50,
                'longtitle': true,
                'theme': 'dark',
                'onsuccess': onSuccess,
                'onfailure': onFailure
            });
        }
        $(document).on("click", ".navbar-right .dropdown-menu", function (e) {
            e.stopPropagation();
        });

        function UsuarioLogado(data) {
            //
        }

        function UsuarioCadastrado(data) {
            //
        }

    </script>

    <style>
        .swiper-container {
            width: 100%;
            height: 100%;
        }

        .swiper-slide {
            text-align: center;
            font-size: 18px;
            background: #fff;
            /* Center slide text vertically */
            display: -webkit-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
        }
    </style>
</head>
<body style="font-family: 'Comfortaa', cursive;">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark" role="navigation" style="font-family: 'Comfortaa', cursive;background-image: linear-gradient(to right, #62a8db , #6cb27c) !important;">
        <div class="container">
            <img src="~/Content/img/icone_branco.png" style="width: 32px;margin-right: 10px;" alt="logo"><a class="navbar-brand" href="#" style="font-size: 22px;font-weight: 600;padding-right: 0px;">Ecocharge</a>
            <button class="navbar-toggler border-0" style="color: white;" type="button" data-toggle="collapse" data-target="#exCollapsingNavbar">
                &#9776;
            </button>
            <div class="collapse navbar-collapse" id="exCollapsingNavbar" style="margin-top: 2px;font-weight: 600;text-align: center;">
                <ul class="nav navbar-nav">
                    <li class="nav-item"><a href="#" class="nav-link">Início</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Ecosense</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Para que serve?</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Quem somos</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Contato</a></li>
                </ul>
                @if (Session["UserLogado"] != null ? (bool)Session["UserLogado"] : false)
                {
                    <ul class="nav navbar-nav navbar-right ml-auto">
                        <li class="nav-item">
                            @using (Ajax.BeginForm("Deslogar", "Account", null, new AjaxOptions() { OnComplete = "OnDeslogar" } ))
                            {
                                <button type="submit">Deslogar</button>
                            }
                        </li>
                    </ul>
                }
                else
                {
                    <ul class="nav navbar-nav navbar-right ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" style="color:white;" href="@Url.Action("Index", "Account")">Login</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" style="color:white;" href="@Url.Action("Cadastro", "Account")">Registrar</a>
                        </li>
                    </ul>
                }
            </div>
        </div>
    </nav>

    @RenderBody()

    <script>

        function OnDeslogar(response) {
            var obj = response.responseJSON;

            alert(obj.Msg);

            window.location = "/Account/";
        }

    </script>

</body>
</html>